{% extends "article/base_steps.html" %}
{% load static %}
{% load is_string_tags %}


{% block style %}
  {{ block.super }}
  <link rel="stylesheet" type="text/css" href="{% static 'step2/css/post_detail.css'%}">
{% endblock %}

{% block script %}
  {{ block.super }}
  <script type="text/javascript" src="{% static 'step2/js/post_detail.js'%}"></script>
{% endblock %}


{% block content %}

<div class="m-4">

  <div class="dropdown-right text-end">
    <button style="background: #F5F5F5;" class="btn rounded-circle p-2" type="button" id="dot-btn" data-bs-toggle="dropdown" aria-expanded="false">
      <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="#1B3474" class="bi bi-three-dots-vertical" viewBox="0 0 16 16">
        <path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>
      </svg>
    </button>
    <ul class="dropdown-menu">
      <li><button class="dropdown-item" id="edit-post">Edit Post</button></li>
      <li><button class="dropdown-item" id="save-post">Save Post</button></li>
      <li><button class="dropdown-item" id="delete-post">Delete Post</button></li>
      <li><button class="dropdown-item" id="copy-post">Copy Post</button></li>
    </ul>
  </div>

  <form action="{% url 'generate_article:save-post' %}" method="post">
    {% csrf_token %}
    <div id="post-title" >{{ post.title }}</div>
    <input id="title" type= "hidden" name="title" value="{{ post.title }}">

    <hr>

    <div id="post-paragraphs">
      {% for p in post.paragraph %}
      {% if p.strip != '' %}
      <div class="post-paragraph">{{ p }}</div>
      <input class="text" type="hidden" name="paragraphs[]" value="{{ p|safe }}">
      {% endif %}
      {% endfor %}
    </div>

    <hr>

    <div id="post-sources">
      {% if post.source == "None" or not post.source %}
      <p>No sources.</p>
      {% elif post.source|is_string %}
      <a href="{{ post.source }}" class="post-source"> {{ post.source }}</a>
      <input class="source" type="hidden" name="source" value="{{ post.source }}">
      {% else %}
        {% for s in post.source %}
      <a href="{{ s }}" class="post-source">Generated by OpenAI. Learn more at: {{ s }}</a>
      <input class="source" type="hidden" name="source" value="{{ s }}">
        {% endfor %}
      {% endif %}
    </div>

    <hr>

    <div class="d-flex flex-row align-items-center">

      <div class="w-50 m-3 image-container">
        <div class="img-overlay">
          <button type="button" class="open_search glass-button pull-right" data-bs-toggle="modal" data-bs-target="#largeModal">
            <a style="color: inherit; text-decoration: none">Edit Photo</a>
          </button>
        </div>
        <img src ={{images}} alt="Random meme..." class="img-fluid post-img">
        <input id="images" type="hidden" name="images" value="{{images}}">
      </div>

      <div class="post-options">
        <label for="content" class="mb-4"><strong>Qualitative categorization:</strong></label>
        <select  name="qualitative_categorization">
          {% for category in categories %} 
            <option value="{{category}}">{{category}}</option>
          {% endfor %}
        </select>

        <br><br>

        <label for="brand" class="mb-4"><strong>Targeted for:</strong> </label>
        <select  id="brand" name="targeted_for" >
          <option value="Apple-Technology">Apple-Technology</option>
          <option value="Google-Technology">Google-Technology</option>
          <option value="Microsoft-Technology">Microsoft-Technology</option>
          <option value="Amazon-Technology">Amazon-Technology</option>
          <option value="Facebook-Technology">Facebook-Technology</option>
          <option value="Coca-Cola-Beverages">Coca-Cola-Beverages</option>
          <option value="Disney-Leisure">Disney-Leisure</option>
          <option value="Samsung-Technology">Samsung-Technology</option>
          <option value="Louis Vuitton-Luxury">Louis Vuitton-Luxury</option>
          <option value="McDonald's-Restaurants">McDonald's-Restaurants</option>
          <option value="Toyota-Automotive">Toyota-Automotive</option>
          <option value="Intel-Technology">Intel-Technology</option>
          <option value="NIKE-Apparel">NIKE-Apparel</option>
          <option value="AT&T-Telecom">AT&T-Telecom</option>
          <option value="Cisco-Technology">Cisco-Technology</option>
          <option value="Oracle-Technology">Oracle-Technology</option>
          <option value="Verizon-Telecom">Verizon-Telecom</option>
          <option value="Visa-Financial Services">Visa-Financial Services</option>
          <option value="Walmart-Retail">Walmart-Retail</option>
          <option value="GE-Diversified">GE-Diversified</option>
          <option value="Budweiser-Alcohol">Budweiser-Alcohol</option>
          <option value="SAP-Technology">SAP-Technology</option>
          <option value="Mercedes-Benz-Automotive">Mercedes-Benz-Automotive</option>
          <option value="IBM-Technology">IBM-Technology</option>
          <option value="Marlboro-Tobacco">Marlboro-Tobacco</option>
          <option value="Netflix-Technology">Netflix-Technology</option>
          <option value="BMW-Automotive">BMW-Automotive</option>
          <option value="American Express-Financial Services">American Express-Financial Services</option>
          <option value="Honda-Automotive">Honda-Automotive</option>
          <option value="LOreal-Consumer Packaged Goods">LOreal-Consumer Packaged Goods</option>
          <option value="Gucci-Luxury">Gucci-Luxury</option>
          <option value="Hermes-Luxury">Hermes-Luxury</option>
          <option value="Nescafe-Beverages">Nescafe-Beverages</option>
          <option value="Home Depot-Retail">Home Depot-Retail</option>
          <option value="Accenture-Business Services">Accenture-Business Services</option>
          <option value="Pepsi-Beverages">Pepsi-Beverages</option>
          <option value="Starbucks-Restaurants">Starbucks-Restaurants</option>
          <option value="Mastercard-Financial Services">Mastercard-Financial Services</option>
          <option value="Frito-Lay-Consummer Packaged Goods">Frito-Lay-Consummer Packaged Goods</option>
          <option value="IKEA-Retail">IKEA-Retail</option>
          <option value="Zara-Retail">Zara-Retail</option>
          <option value="Gillette-Consumer Packaged Goods">Gillette-Consumer Packaged Goods</option>
          <option value="HSBC-Financial Services">HSBC-Financial Services</option>
          <option value="Audi-Automotive">Audi-Automotive</option>
          <option value="J.P.Morgan-Financial Services">J.P.Morgan-Financial Services</option>
          <option value="Deloitte-Business Services">Deloitte-Business Services</option>
          <option value="Sony-Technology">Sony-Technology</option>
          <option value="UPS-Transportation">UPS-Transportation</option>
          <option value="Bank of America-Financial Services">Bank of America-Financial Services</option>
          <option value="Chase-Financial Services">Chase-Financial Services</option>
          <option value="Adidas-Apparel">Adidas-Apparel</option>
          <option value="Channel-Luxuey">Channel-Luxuey</option>
          <option value="Siemens-Diversified">Siemens-Diversified</option>
          <option value="Nestle-Consumer Packaged Goods">Nestle-Consumer Packaged Goods</option>
          <option value="CVS-Retail">CVS-Retail</option>
          <option value="Cartier-Luxury">Cartier-Luxury</option>
          <option value="Porsche-Automotive">Porsche-Automotive</option>
          <option value="ESPN-Media">ESPN-Media</option>
          <option value="Citi-Financial Services">Citi-Financial Services</option>
          <option value="Wells Fargo -Financial Servies">Wells Fargo -Financial Servies</option>
          <option value="Adobe-Technology">Adobe-Technology</option>
          <option value="Pampers-Consumer Packaged Goods">Pampers-Consumer Packaged Goods</option>
          <option value="Corona-Alchol">Corona-Alchol</option>
          <option value="T-Mobile-Telecom">T-Mobile-Telecom</option>
          <option value="Ebay-Technology">Ebay-Technology</option>
          <option value="Chevrolet-Automotive">Chevrolet-Automotive</option>
          <option value="PayPal-Financial Services">PayPal-Financial Services</option>
          <option value="Ford-Automotive">Ford-Automotive</option>
          <option value="Red Bull-Beveragese">Red Bull-Beverages</option>
          <option value="PwC-Business Services">PwC-Business Services</option>
          <option value="HP-Technology">HP-Technology</option>
          <option value="Colgate-Consumer Packaged Goods">Colgate-Consumer Packaged Goods</option>
          <option value="Fox-Media">Fox-Media</option>
          <option value="Lowe's-Retail">Lowe's-Retail</option>
          <option value="Lancome-Consumer Packaged Goods">Lancome-Consumer Packaged Goods</option>
          <option value="H&M-Retail">H&M-Retail</option>
          <option value="Lexus-Automotive">Lexus-Automotive</option>
          <option value="Santander-Financial Services">Santander-Financial Services</option>
          <option value="Cosotco-Retail">Cosotco-Retail</option>
          <option value="Hyundai-Automotive">Hyundai-Automotive</option>
          <option value="Danone-Consumer Packaged Goods">Danone-Consumer Packaged Goods</option>
          <option value="Heinenken-Alcohol">Heineken-Alcohol</option>
          <option value="Uniqlo-Apparel">Uniqlo-Apparel</option>
          <option value="Goldman Sachs-Financial Services">Goldman Sachs-Financial Services</option>
          <option value="Hennessy-Alcohol">Hennessy-Alcohol</option>
          <option value="Nintendo-Technology">Nintendo-Technology</option>
          <option value="AXA-Financial Services">AXA-Financial Services</option>
          <option value="Allianz-Financial Services">Allianz-Financial Services</option>
          <option value="Dell-Technology">Dell-Technology</option>
          <option value="Caterpillar-Heavy Equipment">Caterpillar-Heavy Equipment</option>
          <option value="LEGO-Leisure">LEGO-Leisure</option>
          <option value="Huawai-Technology">Huawai-Technology</option>
          <option value="John Deere-Heavy Equipment">John Deere-Heavy Equipment</option>
          <option value="UBS-Financial Services">UBS-Financial Services</option>
          <option value="KFC-Restaurants">KFC-Restaurants</option>
          <option value="Burger King-Restaurants">Burger King-Restaurants</option>
          <option value="EY-Business Services">EY-Business Services</option>
          <option value="FedEx-Transportation">FedEx-Transportation</option>
          <option value="Volkswagen-Automotive">Volkswagen-Automotive</option>
        </select>

        <br>

        <label for="channel" class="mb-4"><strong>Designed for:</strong></label>
        <select id="channel"  name="designed_for">
          <option value="Twitter-uxlivinglab">Twitter-uxlivinglab</option>
          <option value="Linkdin-uxliving">Linkdin-uxliving</option>
          <option value="Facebook-Customer stories">Facebook-Customer stories</option>
          <option value="Instagram-Livinglabstories">Instagram-Livinglabstories</option>
          <option value="Youtube-Dowell True Moments UX Living Lab">Youtube-Dowell True Moments UX Living Lab</option>
          <option value="Tiktok">Tiktok</option>
          <option value="Vimeo-(Brand)">Vimeo-(Brand)</option>
          <option value="Spotify podcast">Spotify podcast</option>
          <option value="Second life">Second life</option>
          <option value="Twitter-dowellresearch">Twitter-dowellresearch</option>
          <option value="Linkdin-dowellresearch">Linkedin-dowellresearch</option>
          <option value="Linkdin-Company page-Germany">Linkedin-Company page-Germany</option>
          <option value="Linkdin-Company page-Singapore">Linkedin-Company page-Singapore</option>
          <option value="Linkedin-Company page-UK">Linkedin-Company page-UK</option>
          <option value="Linkedin-Company page-Scandinavia">Linkedin-Company page-Scandinavia</option>
          <option value="Facebook-DoWell Research">Facebook-DoWell Research</option>
          <option value="Youtube-Dowell Research">Youtube-Dowell Research</option>
          <option value="Twitter-seeuser">Twitter-seeuser</option>
          <option value="Linkedin-Intership">Linkedin-Intership</option>
          <option value="Facebook-uxlivinglab team">Facebook-uxlivinglab team</option>
          <option value="Instagram-uxlivinglab team">Instagram-uxlivinglab team</option>
          <option value="Youtube-Team playlist">Youtube-Team playlist</option>
          <option value="Twitter-unpacandwin">Twitter-unpacandwin</option>
          <option value="Linkedin-unpacandwin">Linkedin-unpacandwin</option>
          <option value="Facebook-unpacandwin">Facebook-unpacandwin</option>
          <option value="Instagram-unpacandwin">Instagram-unpacandwin</option>
          <option value="Youtube-unpacandwin">Youtube-unpacandwin</option>
        </select>

        <br>

        <label for="channelbrand" class="mb-4"><strong>Targeted category:</strong> </label>
        <select id="channelbrand"  name="targeted_category" >
          <option value="Brand">Brand</option>
          <option value="Corporate">Corporate</option>
          <option value="Team building">Team building</option>
          <option value="Consumer contest">Consumer contest</option>
        </select>

        <br>
      </div>

    </div>

    {% if profile == 'Admin' or 'Add/Edit'%}
    <div class="text-center">
      <a href="https://www.socialmediaautomation.uxlivinglab.online/article_list/" class="mx-2 btn btn-dark-blue fw-bold px-4 py-2"  id="post-post" style="color: white; margin-right: 2.5rem !important;">Back</a>
      {% comment %} <button class="mx-2 btn btn-secondary fw-bold px-4 py-2" id="edit-button">Edit</button> {% endcomment %}
      <button type="submit" class="mx-2 btn btn-dark-blue fw-bold px-4 py-2" id="post-post" style="color: white;">Next</button>
    </div>
    {% else %}
    <div class="text-center">
      <a href="https://www.socialmediaautomation.uxlivinglab.online/article_list/" class="mx-2 btn btn-dark-blue fw-bold px-4 py-2"  id="post-post" style="color: white; margin-right: 2.5rem !important;;">Back</a>
      {% comment %} <button class="mx-2 btn btn-secondary fw-bold px-4 py-2" id="edit-button">Edit</button> {% endcomment %}
      <button type="button" class="mx-2 btn btn-dark-blue fw-bold px-4 py-2" id="post-post" style="color: white;" onclick="showAdminMessage()">Next</button>
    </div>

  </form>
    {% endif %}

</div>

  <!-- Modal -->
<div class="modal fade" id="largeModal" tabindex="-1" aria-labelledby="basicModal" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      
      <div class="modal-header" onclick="removeSelect();">
      
        <div class="input-group d-flex align-items-center justify-content-center ">
          <div class="form-outline">
            <input type="text" id="search_input" class="form-control" placeholder="Search images" />
          </div>
          <button id="search_btn" class="btn btn-primary" style="background-color: #36519e;">
            <i class="fas fa-search"></i>
          </button>
        </div>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" onclick="removeSelect();"></button>

      </div>

      <div class="modal-body">

          <div class="container text-center my-3">
              <div class="row mx-auto my-auto" id="pexels-image-row">   

              </div>
          </div>

      </div>

      <div class="modal-footer" onclick="removeSelect();">

                <button type="button" class="btn btn-primary btn-dark-blue" data-bs-dismiss="modal" onclick="updateImage();" style="font-size: small;">Update Post</button>

      </div>

    </div>
  </div>
</div>


{% endblock %}

